let users = {
    sarah_edo: {
      id: "sarah_edo",
      name: "Sarah Drasner",
      avatarURL: "https://tylermcginnis.com/would-you-rather/sarah.jpg",
      answeredQuestions: ['8xf0y6ziyjabvozdd253nd', 'hbsc73kzqi75rg7v1e0i6a', '2mb6re13q842wu8n106bhk', '6h5ims9iks66d4m7kqizmv', '3sklxkf9yyfowrf0o1ftbb'],
      questionsCreated: ['mnabsdnbmbasd', 'mnabsdnbmbasd']
    },
    tylermcginnis: {
      id: "tylermcginnis",
      name: "Tyler McGinnis",
      avatarURL: "https://tylermcginnis.com/would-you-rather/tyler.jpg",
      answeredQuestions: ['5c9qojr2d1738zlx09afby', 'f4xzgapq7mu783k9t02ghx', 'nnvkjqoevs8t02lzcc0ky', '4pt0px8l0l9g6y69ylivti', 'fap8sdxppna8oabnxljzcv', 'leqp4lzfox7cqvsgdj0e7', '26p5pskqi88i58qmza2gid', 'xi3ca2jcfvpa0i3t4m7ag'],
      questionsCreated: ['asdsdsda']
    },
    dan_abramov: {
      id: "dan_abramov",
      name: "Dan Abramov",
      avatarURL: "https://tylermcginnis.com/would-you-rather/dan.jpg",
      answeredQuestions: ['5w6k1n34dkp1x29cuzn2zn', 'czpa59mg577x1oo45cup0d', 'omdbjl68fxact38hk7ypy6', '3km0v4hf1ps92ajf4z2ytg', 'njv20mq7jsxa6bgsqc97', 'sfljgka8pfddbcer8nuxv', 'r0xu2v1qrxa6ygtvf2rkjw'],
      questionsCreated: ['asdsdas', 'asasdsdasdsa', 'asdasdasd'],
    }
  }

  let questions = {
    "8xf0y6ziyjabvozdd253nd": {
      id: "8xf0y6ziyjabvozdd253nd",
      text: "Would you rather the aliens that make first contact be robotic or organic?",
      createdBy: "sarah_edo",
      options: {
        a: 'robotic',
        b: 'organic'
      },
      answers: ['a', 'a', 'a', 'b'],
    },
    "5c9qojr2d1738zlx09afby": {
      id: "5c9qojr2d1738zlx09afby",
      text: "Would you rather lose the ability to read or lose the ability to speak?",
      createdBy: "tylermcginnis",
      options: 
        {
          a:'read',
          b:'speak'
        }
      ,
      answers: [],

    },
    "f4xzgapq7mu783k9t02ghx": {
      id: "f4xzgapq7mu783k9t02ghx",
      text: "Would you rather have a golden voice or a silver tongue?",
      createdBy: "tylermcginnis",
      options: {a:'golden voice', b:'silver tongue'},
      answers: [],
    },
    "hbsc73kzqi75rg7v1e0i6a": {
      id: "hbsc73kzqi75rg7v1e0i6a",
      text: "Would you rather be covered in fur or covered in scales?",
      createdBy: "tylermcginnis",
      options: {a:'fur', b:'scales'},
      answers: [],

    },
    "5w6k1n34dkp1x29cuzn2zn": {
      id: "5w6k1n34dkp1x29cuzn2zn",
      text: "Would you rather be in jail for a year or lose a year off your life?",
      createdBy: "dan_abramov",
      options: {a:'be in jail for a year',b: 'ose a year off your life'},
      answers: [],

    },
    "czpa59mg577x1oo45cup0d": {
      id: "czpa59mg577x1oo45cup0d",
      text: "Would you rather always be 10 minutes late or always be 20 minutes early?",
      createdBy: "dan_abramov",
      options: {a:'10 minutes late', b:'20 minutes early'},
      answers: [],

    },
    "2mb6re13q842wu8n106bhk": {
      id: "2mb6re13q842wu8n106bhk",
      text: "Would you rather have one real get out of jail free card or a key that opens any door?",
      createdBy: "sarah_edo",
      options: {a:'one real get out of jail free card', b:'key that opens any door'},
      answers: [],

    },
    "nnvkjqoevs8t02lzcc0ky": {
      id: "nnvkjqoevs8t02lzcc0ky",
      text: "Would you rather know the history of every object you touched or be able to talk to animals?",
      createdBy: "tylermcginnis",
      options: {a:'know the history of every object you touched', b:'be able to talk to animals'},
      answers: [],

    },
    "omdbjl68fxact38hk7ypy6": {
      id: "omdbjl68fxact38hk7ypy6",
      text: "Would you rather be married to a 10 with a bad personality or a 6 with an amazing personality?",
      createdBy: "dan_abramov",
      options: {a:'a 10 with a bad personality',b: 'a 6 with an amazing personality'},
      answers: [],

    },
    "4pt0px8l0l9g6y69ylivti": {
      id: "4pt0px8l0l9g6y69ylivti",
      text: "Would you rather be able to talk to land animals or animals that live under the water?",
      createdBy: "tylermcginnis",
      options: {a:'land animals', b:'animals that live under the water'},
      answers: [],

    },
    "6h5ims9iks66d4m7kqizmv": {
      id: "6h5ims9iks66d4m7kqizmv",
      text: "Would you rather have all traffic lights you approach be green or never have to stand in line again?",
      createdBy: "sarah_edo",
      options: {a:'all traffic lights you approach be green', b:'never have to stand in line again'},
      answers: [],

    },
    "fap8sdxppna8oabnxljzcv": {
      id: "fap8sdxppna8oabnxljzcv",
      createdBy: "tylermcginnis",
      text: "Would you rather spend the rest of your life with a sailboat as your home or an RV as your home?",
      options: {a:'sailboat', b:'RV'},
      answers: [],

    },
    "3km0v4hf1ps92ajf4z2ytg": {
      id: "3km0v4hf1ps92ajf4z2ytg",
      createdBy: "dan_abramov",
      text: "Would you rather give up all drinks except for water or give up eating anything that was cooked in an oven?",
      options: {a:'all drinks except for water', b:'eating anything that was cooked in an oven'},
      answers: [],

    },
    "njv20mq7jsxa6bgsqc97": {
      id: "njv20mq7jsxa6bgsqc97",
      createdBy: "dan_abramov",
      text: "Would you rather be able to see 10 minutes into your own future or 10 minutes into the future of anyone but yourself?",
      options: {a:'own future', b:'anyone'},
      answers: [],

    },
    "leqp4lzfox7cqvsgdj0e7": {
      id: "leqp4lzfox7cqvsgdj0e7",
      createdBy: "tylermcginnis",
      text: "Would you rather have an easy job working for someone else or work for yourself but work incredibly hard?",
      options: {a:'an easy job working for someone else', b:'work for yourself but work incredibly hard'},
      answers: [],

    },
    "sfljgka8pfddbcer8nuxv": {
      id: "sfljgka8pfddbcer8nuxv",
      createdBy: "dan_abramov",
      text: "Would you rather be the first person to explore a planet or be the inventor of a drug that cures a deadly disease?",
      options: {a:'first person to explore a planet', b:'the inventor of a drug that cures a deadly disease'},
      answers: [],

    },
    "3sklxkf9yyfowrf0o1ftbb": {
      id: "3sklxkf9yyfowrf0o1ftbb",
      createdBy: "sarah_edo",
      text: "Would you rather go back to age 5 with everything you know now or know now everything your future self will learn?",
      options: {a:'go back to age 5 with everything you know', b:'know now everything your future self will learn'},
      answers: [],
    },
    "26p5pskqi88i58qmza2gid": {
      id: "26p5pskqi88i58qmza2gid",
      createdBy: "tylermcginnis",
      text: "Would you rather be able to control animals (but not humans) with your mind or control electronics with your mind?",
      options: {a:'be able to control animals (but not humans) with your mind', b:'control electronics with your mind'},
      answers: [],
    },
    "xi3ca2jcfvpa0i3t4m7ag": {
      id: "xi3ca2jcfvpa0i3t4m7ag",
      createdBy: "tylermcginnis",
      text: "Would you rather have unlimited international first-class tickets or never have to pay for food at restaurants?",
      options: {a:'unlimited international first-class tickets', b:'never have to pay for food at restaurants'},
      answers: [],
    },
    "r0xu2v1qrxa6ygtvf2rkjw": {
      id: "r0xu2v1qrxa6ygtvf2rkjw",
      createdBy: "dan_abramov",
      text: "Would you rather see what was behind every closed door or be able to guess the combination of every safe on the first try?",
      options: {a:'see what was behind every closed door', b:'be able to guess the combination of every safe on the first try'},
      answers: [],
    },
  }

  export function _getUsers () {
    return new Promise((res, rej) => {
      setTimeout(() => res({...users}), 1000)
    })
  }

  export function _getQuestions () {
    return new Promise((res, rej) => {
      setTimeout(() => res({...questions}), 1000)
    })
  }

  function generateUID () {
    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15)
  }
  
  function formatQuestion ({ createdBy, text, optionA, optionB}) {
    return {
      id: generateUID(),
      createdBy,
      text,
      options: {
        a: optionA,
        b: optionB
      },
      answers: [],
    }
  }

  export function _saveQuestion ({ text, createdBy, optionA, optionB }) {
    return new Promise((res, rej) => {
      const formattedQuestion = formatQuestion({
        createdBy,
        text,
        options: {
          a: optionA,
          b: optionB
        }
      })
  
      setTimeout(() => {
        questions = {
          ...questions,
          [formattedQuestion.id]: formattedQuestion,
        }
  
        users = {
          ...users,
          [createdBy]: {
            ...users[createdBy],
            questionsCreated: users[createdBy].questions.concat([formattedQuestion.id])
          }
        }
  
        res(formattedQuestion)
      }, 1000)
    })
  }

  export function _addAnswer(authedUser, question, answer){
    console.log('SAVE QUESTION - DATA', authedUser, question, answer)

    questions = {
      ...questions,
      [question.id]: {
        answers: questions[question.id].answers.push(answer)
      }
    }

    users = {
      ...users,
      authedUser: {
        answeredQuestions: users[authedUser]['answeredQuestions'].push(question.id)
      }
    }

    questions = {
      questions
    }

  }